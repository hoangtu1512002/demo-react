import{r as s,R as c,j as l,L as _}from"./index-DCpHgp3c.js";import{C as ee}from"./index.es-CvMmTuVs.js";import{i as oe}from"./axiosConfig-CUz5P6f_.js";import{C as pe,a as he,b as ve,c as be,d as Ce,e as re,f as N,g as ye,h as M}from"./CTable-BClCMNFp.js";import{a as g}from"./CButton-D-qS66yg.js";import{C as xe}from"./CImage-B8oP5pyQ.js";import{_ as h,a as p,c as v,P as o,b as le,s as Ne,t as ge}from"./props-CrjKqQpG.js";import{u as we,T as je,C as te,a as Ee}from"./CConditionalPortal-Cuwc4zE4.js";var B=s.forwardRef(function(e,i){var t=e.className,a=e.dark,n=e.disabled,d=e.white,m=h(e,["className","dark","disabled","white"]);return c.createElement("button",p({type:"button",className:v("btn","btn-close",{"btn-close-white":d},n,t),"aria-label":"Close",disabled:n},a&&{"data-coreui-theme":"dark"},m,{ref:i}))});B.propTypes={className:o.string,dark:o.bool,disabled:o.bool,white:o.bool};B.displayName="CCloseButton";var O=s.forwardRef(function(e,i){var t,a=e.children,n=e.as,d=n===void 0?"span":n,m=e.className,f=e.color,r=e.position,C=e.shape,w=e.size,j=e.textBgColor,y=e.textColor,E=h(e,["children","as","className","color","position","shape","size","textBgColor","textColor"]);return c.createElement(d,p({className:v("badge",(t={},t["bg-".concat(f)]=f,t["position-absolute translate-middle"]=r,t["top-0"]=r==null?void 0:r.includes("top"),t["top-100"]=r==null?void 0:r.includes("bottom"),t["start-100"]=r==null?void 0:r.includes("end"),t["start-0"]=r==null?void 0:r.includes("start"),t["badge-".concat(w)]=w,t["text-".concat(y)]=y,t["text-bg-".concat(j)]=j,t),C,m)},E,{ref:i}),a)});O.propTypes={as:o.string,children:o.node,className:o.string,color:le,position:o.oneOf(["top-start","top-end","bottom-end","bottom-start"]),shape:Ne,size:o.oneOf(["sm"]),textBgColor:le,textColor:ge};O.displayName="CBadge";var L=s.forwardRef(function(e,i){var t=e.children,a=e.className,n=h(e,["children","className"]);return c.createElement("div",p({className:v("modal-content",a)},n,{ref:i}),t)});L.propTypes={children:o.node,className:o.string};L.displayName="CModalContent";var z=s.forwardRef(function(e,i){var t,a=e.children,n=e.alignment,d=e.className,m=e.fullscreen,f=e.scrollable,r=e.size,C=h(e,["children","alignment","className","fullscreen","scrollable","size"]);return c.createElement("div",p({className:v("modal-dialog",(t={"modal-dialog-centered":n==="center"},t[typeof m=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(m,"-down")]=m,t["modal-dialog-scrollable"]=f,t["modal-".concat(r)]=r,t),d)},C,{ref:i}),a)});z.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};z.displayName="CModalDialog";var se=s.createContext({}),H=s.forwardRef(function(e,i){var t=e.children,a=e.alignment,n=e.backdrop,d=n===void 0?!0:n,m=e.className,f=e.duration,r=f===void 0?150:f,C=e.focus,w=C===void 0?!0:C,j=e.fullscreen,y=e.keyboard,E=y===void 0?!0:y,T=e.onClose,D=e.onClosePrevented,ae=e.onShow,F=e.portal,I=F===void 0?!0:F,ne=e.scrollable,ie=e.size,K=e.transition,k=K===void 0?!0:K,$=e.unmountOnClose,ce=$===void 0?!0:$,P=e.visible,de=h(e,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),q=s.useRef(null),x=s.useRef(null),me=s.useRef(null),ue=we(i,x),G=s.useState(P),b=G[0],R=G[1],J=s.useState(!1),Q=J[0],U=J[1],fe={visible:b,setVisible:R};s.useEffect(function(){R(P)},[P]),s.useEffect(function(){var u;return b?(q.current=document.activeElement,document.addEventListener("mouseup",X),document.addEventListener("keydown",Y)):(u=q.current)===null||u===void 0||u.focus(),function(){document.removeEventListener("mouseup",X),document.removeEventListener("keydown",Y)}},[b]);var W=function(){return d==="static"?U(!0):(R(!1),T&&T())};s.useLayoutEffect(function(){D&&D(),setTimeout(function(){return U(!1)},r)},[Q]),s.useLayoutEffect(function(){return b?(document.body.classList.add("modal-open"),d&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var u;w&&((u=x.current)===null||u===void 0||u.focus())},k?r:0)):(document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[b]);var X=function(u){x.current&&x.current==u.target&&W()},Y=function(u){u.key==="Escape"&&E&&W()};return c.createElement(c.Fragment,null,c.createElement(je,{in:b,mountOnEnter:!0,nodeRef:x,onEnter:ae,onExit:T,unmountOnExit:ce,timeout:k?r:0},function(u){return c.createElement(te,{portal:I},c.createElement(se.Provider,{value:fe},c.createElement("div",p({className:v("modal",{"modal-static":Q,fade:k,show:u==="entered"},m),tabIndex:-1},b?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:p({},u!=="exited"&&{display:"block"})},de,{ref:ue}),c.createElement(z,{alignment:a,fullscreen:j,scrollable:ne,size:ie},c.createElement(L,{ref:me},t)))))}),d&&c.createElement(te,{portal:I},c.createElement(Ee,{visible:b})))});H.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};H.displayName="CModal";var V=s.forwardRef(function(e,i){var t=e.children,a=e.className,n=h(e,["children","className"]);return c.createElement("div",p({className:v("modal-body",a)},n,{ref:i}),t)});V.propTypes={children:o.node,className:o.string};V.displayName="CModalBody";var S=s.forwardRef(function(e,i){var t=e.children,a=e.className,n=h(e,["children","className"]);return c.createElement("div",p({className:v("modal-footer",a)},n,{ref:i}),t)});S.propTypes={children:o.node,className:o.string};S.displayName="CModalFooter";var Z=s.forwardRef(function(e,i){var t=e.children,a=e.className,n=e.closeButton,d=n===void 0?!0:n,m=h(e,["children","className","closeButton"]),f=s.useContext(se).setVisible;return c.createElement("div",p({className:v("modal-header",a)},m,{ref:i}),t,d&&c.createElement(B,{onClick:function(){return f(!1)}}))});Z.propTypes={children:o.node,className:o.string,closeButton:o.bool};Z.displayName="CModalHeader";var A=s.forwardRef(function(e,i){var t=e.children,a=e.as,n=a===void 0?"h5":a,d=e.className,m=h(e,["children","as","className"]);return c.createElement(n,p({className:v("modal-title",d)},m,{ref:i}),t)});A.propTypes={as:o.elementType,children:o.node,className:o.string};A.displayName="CModalTitle";var Te=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"],ke=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"];const Ve=()=>{const[e,i]=s.useState([]),[t,a]=s.useState(!1),[n,d]=s.useState(null);s.useEffect(()=>{oe.get("/products").then(r=>{i(r.data)}).catch(r=>{console.error("Error:",r)})},[]);const m=r=>{d(r),a(!t)},f=()=>{oe.delete("products/"+n).then(r=>{d(null),a(!1)}).catch(r=>{console.error(r)})};return l.jsxs(l.Fragment,{children:[l.jsxs(pe,{children:[l.jsx(he,{children:l.jsxs("div",{className:"w-100 mb-2 d-flex align-items-center justify-content-between",children:[l.jsx("h4",{className:"p-2 mb-0",children:"List Product"}),l.jsx(_,{to:"/admin/product/add",children:l.jsx(g,{color:"primary",className:"fs-6 fw-bold",children:"Add new product"})})]})}),l.jsx(ve,{children:l.jsxs(be,{striped:!0,children:[l.jsx(Ce,{children:l.jsxs(re,{children:[l.jsx(N,{scope:"col",children:"#"}),l.jsx(N,{scope:"col",width:"60%",children:"Product"}),l.jsx(N,{scope:"col",children:"Price"}),l.jsx(N,{scope:"col",width:"8%",className:"text-center",children:"Action"})]})}),l.jsx(ye,{children:e.map(r=>l.jsxs(re,{children:[l.jsx(N,{scope:"row",children:r.id}),l.jsxs(M,{children:[l.jsx(xe,{rounded:!0,thumbnail:!0,src:r.image,width:40,height:40})," ",r.title]}),l.jsx(M,{children:l.jsxs(O,{color:"secondary",children:[r.price," $"]})}),l.jsxs(M,{className:"text-center",children:[l.jsx(g,{color:"success",className:"text-white",children:l.jsx(_,{className:"text-decoration-none text-white",to:"/admin/product/edit/"+r.id,children:l.jsx(ee,{icon:Te})})}),l.jsx(g,{color:"danger",className:"ms-2",onClick:()=>m(r.id),children:l.jsx(ee,{icon:ke})})]})]},r.id))})]})})]}),l.jsxs(H,{visible:t,onClose:()=>a(!1),"aria-labelledby":"delConfirm",children:[l.jsx(Z,{children:l.jsx(A,{id:"delConfirm",children:"delete product"})}),l.jsx(V,{children:l.jsx("p",{children:"Are you sure you want to delete this product?"})}),l.jsxs(S,{children:[l.jsx(g,{color:"secondary",onClick:()=>a(!1),children:"Close"}),l.jsx(g,{color:"primary",onClick:()=>f(),children:"Delete"})]})]})]})};export{Ve as default};
