import{r,u as g,d as f,j as s}from"./index-DCpHgp3c.js";import{i as x}from"./axiosConfig-CUz5P6f_.js";import{C as j,a as m,b as i}from"./CFormInput-Dn0OHLB1.js";import{a as C}from"./CButton-D-qS66yg.js";import"./props-CrjKqQpG.js";const E=()=>{const[o,l]=r.useState({username:"",password:""}),t=a=>{const{name:e,value:p}=a.target;l(h=>({...h,[e]:p}))},{isLogin:c,isAuthenticated:n}=g(),u=f(),d=()=>{x.post("auth/login",o).then(a=>{const e=a.data.token;sessionStorage.setItem("token",e),c()}).catch(a=>{console.log(a)})};return r.useEffect(()=>{n&&u("/admin")},[n]),s.jsx("div",{className:"login-form",children:s.jsxs(j,{className:"form",children:[s.jsx("h4",{className:"login-title",children:"Login"}),s.jsx(m,{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label",children:"Username"}),s.jsx(i,{type:"text",id:"inputEmail3",name:"username",value:o.username,onChange:t}),s.jsx(m,{htmlFor:"inputPassword3",className:"col-sm-2 col-form-label",children:"Password"}),s.jsx(i,{type:"password",id:"inputPassword3",name:"password",value:o.password,onChange:t}),s.jsx(C,{onClick:d,color:"primary",type:"button",className:"mt-4",children:"Login"})]})})};export{E as default};
