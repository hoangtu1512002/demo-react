import{r as m,j as e}from"./index-DCpHgp3c.js";import{i as d}from"./axiosConfig-CUz5P6f_.js";import{C,a as t,b as i}from"./CFormInput-Dn0OHLB1.js";import{C as c,a as o,b,c as f}from"./CRow-BLOeaJJK.js";import{a as y}from"./CButton-D-qS66yg.js";import"./props-CrjKqQpG.js";const D=()=>{const[a,h]=m.useState({title:"",price:"",image:"",category:"",description:""}),[n,x]=m.useState([]);m.useEffect(()=>{d.get("/products/categories").then(s=>{x(s.data)}).catch(s=>{console.error("Error:",s)})},[]);const r=s=>{const{name:l,value:g}=s.target,j=s.target.type==="file"?s.target.files[0]:g;h(u=>({...u,[l]:j}))},p=()=>{a.category===""&&(a.category=n[0]||""),console.log(a),d.post("/products",a).then(s=>{console.log(s.data)}).catch(s=>{console.error("Error:",s)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card mt-4",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"mb-0 py-2",children:"New product"})}),e.jsx("div",{className:"card-body",children:e.jsxs(C,{children:[e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{htmlFor:"title",className:"col-sm-2 col-form-label",children:"Product name"}),e.jsx(o,{sm:12,children:e.jsx(i,{type:"text",name:"title",value:a.title,onChange:r})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{htmlFor:"price",className:"col-sm-2 col-form-label",children:"Price"}),e.jsx(o,{sm:12,children:e.jsx(i,{type:"text",name:"price",id:"price",value:a.price,onChange:r})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{htmlFor:"image",className:"col-sm-2 col-form-label",children:"image"}),e.jsx(o,{sm:12,children:e.jsx(i,{type:"file",name:"image",id:"image",onChange:r})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{htmlFor:"image",className:"col-sm-2 col-form-label",children:"category"}),e.jsx(o,{sm:12,children:e.jsx(b,{name:"category",value:a.category,onChange:r,children:n.map((s,l)=>e.jsx("option",{value:s,children:s},l))})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{htmlFor:"image",className:"col-sm-2 col-form-label",children:"description"}),e.jsx(o,{sm:12,children:e.jsx(f,{id:"des",name:"description",style:{height:"100px"},value:a.description,onChange:r})})]}),e.jsx(y,{color:"primary",type:"button",onClick:()=>p(),children:"Submit"})]})})]})})};export{D as default};
